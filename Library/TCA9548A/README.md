# TCA9548A ブレイクアウトボード KiCad ライブラリ

## 概要

このディレクトリには、TCA9548A I2Cマルチプレクサ搭載ブレイクアウトボード用のKiCadライブラリファイルが含まれています。

## ファイル一覧

- **TCA9548A_Breakout.kicad_mod** - フットプリント(基板レイアウト用)
- **TCA9548A.kicad_sym** - 回路記号シンボル(回路図用)

## 対応ブレイクアウトボード

このライブラリは以下のような標準的なTCA9548Aブレイクアウトボードに対応しています:

- CJMCU-9548 TCA9548A ブレイクアウトボード
- Adafruit TCA9548A I2C Multiplexer
- その他の互換ボード

### ボード仕様

- **基板サイズ**: 約32mm × 22mm
- **ピンピッチ**: 2.54mm (標準ピンヘッダ)
- **ピン数**: 24ピン
- **動作電圧**: 1.65V～5.5V (3.3V/5V対応)
- **I2Cアドレス**: 0x70～0x77 (A0/A1/A2ピンで選択可能)

## ピン配置

### 左側 (制御側)

| ピン番号 | ピン名 | 説明 |
|---------|--------|------|
| 1 | VIN | 電源入力 (1.65V～5.5V) |
| 2 | GND | グランド |
| 3 | SCL | I2Cクロック入力 (マスター側) |
| 4 | SDA | I2Cデータ入力/出力 (マスター側) |
| 5 | A0 | アドレス選択ビット0 |
| 6 | A1 | アドレス選択ビット1 |
| 7 | A2 | アドレス選択ビット2 |
| 8 | RST | リセット入力 (アクティブLow) |

### 右側・左内側 (チャンネル出力側)

| ピン番号 | ピン名 | 説明 |
|---------|--------|------|
| 9 | SC0 | チャンネル0 I2Cクロック出力 |
| 10 | SD0 | チャンネル0 I2Cデータ入出力 |
| 11 | SC1 | チャンネル1 I2Cクロック出力 |
| 12 | SD1 | チャンネル1 I2Cデータ入出力 |
| 13 | SC2 | チャンネル2 I2Cクロック出力 |
| 14 | SD2 | チャンネル2 I2Cデータ入出力 |
| 15 | SC3 | チャンネル3 I2Cクロック出力 |
| 16 | SD3 | チャンネル3 I2Cデータ入出力 |
| 17 | SC4 | チャンネル4 I2Cクロック出力 |
| 18 | SD4 | チャンネル4 I2Cデータ入出力 |
| 19 | SC5 | チャンネル5 I2Cクロック出力 |
| 20 | SD5 | チャンネル5 I2Cデータ入出力 |
| 21 | SC6 | チャンネル6 I2Cクロック出力 |
| 22 | SD6 | チャンネル6 I2Cデータ入出力 |
| 23 | SC7 | チャンネル7 I2Cクロック出力 |
| 24 | SD7 | チャンネル7 I2Cデータ入出力 |

## KiCadでの使用方法

### 1. シンボルライブラリの追加

1. KiCadの「設定」→「シンボルライブラリを管理」を開く
2. 「追加」ボタンをクリック
3. `TCA9548A.kicad_sym` ファイルを選択
4. ニックネーム(例: "TCA9548A_Custom")を入力
5. 「OK」をクリック

### 2. フットプリントライブラリの追加

#### 方法A: プロジェクト固有のライブラリとして追加

1. KiCadの「設定」→「フットプリントライブラリを管理」を開く
2. 「プロジェクト固有のライブラリ」タブを選択
3. 「フォルダを追加」ボタンをクリック
4. `TCA9548A_Breakout.kicad_mod` ファイルが含まれるディレクトリを選択
5. ニックネーム(例: "TCA9548A_Custom")を入力
6. 「OK」をクリック

#### 方法B: ファイルを既存のライブラリフォルダにコピー

1. `TCA9548A_Breakout.kicad_mod` を既存のフットプリントライブラリフォルダ(例: `*.pretty`)にコピー
2. KiCadを再起動

### 3. 回路図での使用

1. 回路図エディタで「シンボルを追加」(Aキー)
2. 追加したライブラリから「TCA9548A」を検索
3. 配置して配線

### 4. PCBレイアウトでの使用

1. 回路図からPCBに更新 (F8キー)
2. TCA9548Aのシンボルに対してフットプリント「TCA9548A_Breakout」を割り当て
3. PCBレイアウトで配置

## 接続例

### 基本的な接続

```
マイコン側:
  VCC (3.3V/5V) → TCA9548A VIN
  GND → TCA9548A GND
  SCL → TCA9548A SCL
  SDA → TCA9548A SDA
  VCC → TCA9548A RST (通常はHigh)
  GND → TCA9548A A0, A1, A2 (アドレス0x70の場合)

I2Cデバイス側:
  各チャンネル(SC0/SD0～SC7/SD7)に最大8個の
  同一アドレスI2Cデバイスを接続可能
```

### I2Cアドレスの設定

A0, A1, A2ピンの組み合わせでI2Cアドレスを設定できます:

| A2 | A1 | A0 | アドレス |
|----|----|----|---------|
| L  | L  | L  | 0x70    |
| L  | L  | H  | 0x71    |
| L  | H  | L  | 0x72    |
| L  | H  | H  | 0x73    |
| H  | L  | L  | 0x74    |
| H  | L  | H  | 0x75    |
| H  | H  | L  | 0x76    |
| H  | H  | H  | 0x77    |

## 注意事項

1. **プルアップ抵抗**: 
   - マスター側のSCL/SDAには通常4.7kΩのプルアップ抵抗が必要です
   - 各チャンネル側にも必要に応じてプルアップ抵抗を追加してください

2. **電源電圧**: 
   - VINには使用するマイコンのロジックレベル(3.3Vまたは5V)を供給してください

3. **リセットピン**: 
   - RSTピンは通常VINに接続してHigh状態にします
   - 必要に応じてマイコンのGPIOに接続してソフトウェアリセット可能にできます

4. **フットプリントの調整**:
   - 実際のブレイクアウトボードの寸法を確認してください
   - 必要に応じてフットプリントのパッド位置を調整してください

## データシート

- [TCA9548A データシート (Texas Instruments)](https://www.ti.com/lit/ds/symlink/tca9548a.pdf)

## ライセンス

このライブラリはMITライセンスの下で公開されています。自由に使用・改変できます。

## 更新履歴

- 2026-01-17: 初版作成
  - TCA9548A_Breakout.kicad_mod フットプリント作成
  - TCA9548A.kicad_sym シンボルライブラリ作成
  - README作成
